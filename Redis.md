# 简介

用作数据库、缓存、消息队列等场景，最热门的NoSQL数据库之一。

传统数据库性能瓶颈越来越明显，主要是磁盘IO导致的。IO操作速度比磁盘慢很多，如果能够把数据存储在内存中的话，就可以大大提高性能。就有了Redis这种基于内存的数据存储系统。

Redis支持五种基本数据类型和五种高级数据类型

使用方式：CLI、API、GUI

优点

- 性能极高
- 数据类型丰富，单键值对最大支持512M的数据
- 简单易用，支持所有主流编程语言
- 支持数据持久化、主从复制、哨兵模式等高可用特性



# 安装

Redis和Docker一样必须运行于Linux系统环境中

在Linux系统直接`apt install`即可

在Windows中比较麻烦

1. 第一种方式是使用WSL，在WSL中安装Redis

2. 第二种方式使用Docker，从Docker中pull一个Redis镜像来运行

   ​	注：家庭版Windows想用Docker Desktop请百度hyper-V）

3. 第三种是Windows中`.exe`来安装，需要注意的是这种安装方式只能安装到`5.0`版本的Redis



# 启动Redis

非Docker安装的使用`redis-server`命令就可以启动Redis服务

Docker安装的Redis比较特殊，要使用Docker容器来运行

- 法一：直接用当前终端启动Redis服务

  - 命令格式：`docker run redis`

  - 缺点：打开的这个终端就不能干别的事了，只能放在这里运行Redis服务端

    ![image-20240221235413916](.\images\image-20240221235413916.png)

- 法二：后台运行

  - 命令格式：`docker run -d redis`，`-d`表示后台运行，此时终端会显示一个字符串，代表容器的ID，可以使用`docker ps`来查看正在运行的容器。（记得区分容器和镜像~）

    ![image-20240221235645754](.\images\image-20240221235645754.png)

  - 拓展命令格式：`docker run -d -p 6379:6379   --name="myredis"  redis`，`-p`表示进行端口映射，将容器中的6379映射到运行Docker机器中的6379端口，`--name`表示自定义容器名

  - 优点：这个终端还可以继续干别的事，不会被Redis服务占用

- 拓展：结束Docker容器的运行

  `docker stop 容器ID`，正在运行的容器的ID通过`docker ps`来查看

启动了Redis服务端后，还需要连接Redis服务端才能使用Redis

使用`docker exec -it Redis容器的ID或NAME redis-cli`来进入Redis的客户端

此时终端头应该变成这样：

![image-20240222000708811](.\images\image-20240222000708811.png)

这样就代表成功连接到了Redis的服务端，可以使用Redis了

# RedisInsight的使用，暂略





# 数据

Redis中的数据是以键值对的形式存储的，需要指定一个键和一个值，键和值之间使用空格来分隔。

**注：Redis中的键值对是大小写敏感的，但Redis操作用的命令是不敏感的，如get GET都可以正常使用**

## 字符串String

使用SET设置一个键值对，如`SET name wuqing`。通过GET来获取键对应的值。如下：

![image-20240222001159683](.\images\image-20240222001159683.png)

**注：对同一个键重复set会覆盖其中的值**

**Redis中默认使用字符串来存储数据**，而且是二进制安全的。可以把很多类型的数据存放到Redis中，如数值、布尔、序列化的对象。如下：

![image-20240222001443842](.\images\image-20240222001443842.png)

可以看到数字被加上了引号，表名这是一个字符串

通过DEL删除键，如下：

![image-20240222001532192](.\images\image-20240222001532192.png)

通过EXISTS判断一个键是否存在，如下：

![image-20240222001803022](.\images\image-20240222001803022.png)

可以使用KEYS查看数据库中都有哪些键，需要添加一个匹配的参数，如`*`表示匹配所有的键，`*123`表示匹配以123结尾的键。

**可以使用FLUSHALL来删除掉所有的键**，如下：

![image-20240222002048793](.\images\image-20240222002048793.png)

Redis中的键和值都是二进制形式存储，所以默认不支持中文显示。

![image-20240222002219528](.\images\image-20240222002219528.png)

这里的存储是没有问题的，只是显示是二进制的形式，只需要退出连接，重新登录一下，不过要加上参数`--raw`表示以原始形式显示内容，如下：

![image-20240222002401577](D:\Working\文件\Markdown文件\images\image-20240222002401577.png)

使用TTL来查看键的过期时间，输出`-1`的话表示没有设置过期时间。

使用EXPIRE设置键的过期过期时间，如设置name的过期时间为10s

